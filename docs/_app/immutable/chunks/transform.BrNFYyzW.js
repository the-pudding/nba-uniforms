function w(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}class x extends Map{constructor(e,n=d){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,h]of e)this.set(r,h)}get(e){return super.get(a(this,e))}has(e){return super.has(a(this,e))}set(e,n){return super.set(l(this,e),n)}delete(e){return super.delete(y(this,e))}}class M extends Set{constructor(e,n=d){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const r of e)this.add(r)}has(e){return super.has(a(this,e))}add(e){return super.add(l(this,e))}delete(e){return super.delete(y(this,e))}}function a({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function l({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function y({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function d(t){return t!==null&&typeof t=="object"?t.valueOf():t}function v(t){return t}function N(t,...e){return k(t,Array.from,v,e)}function X(t,e,...n){return k(t,Array.from,e,n)}function k(t,e,n,r){return function h(c,f){if(f>=r.length)return n(c);const s=new x,g=r[f++];let m=-1;for(const i of c){const o=g(i,++m,c),p=s.get(o);p?p.push(i):s.set(o,[i])}for(const[i,o]of s)s.set(i,h(o,f));return e(s)}(t,0)}function u(t,e,n){this.k=t,this.x=e,this.y=n}u.prototype={constructor:u,scale:function(t){return t===1?this:new u(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new u(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};u.prototype;export{M as I,x as a,w as d,N as g,X as r};
